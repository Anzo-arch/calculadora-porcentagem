<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculadora de Porcentagem</title>

<style>
/* ====== ESTILO (original mantido) ====== */
body {
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg,#667eea,#764ba2);
    min-height:100vh;
    padding:20px;
}
.container {
    max-width:900px;
    margin:auto;
    background:#fff;
    padding:30px;
    border-radius:15px;
    box-shadow:0 10px 30px rgba(0,0,0,.2);
}
h1{text-align:center}
.subtitle{text-align:center;color:#666;margin-bottom:20px}
.tab-buttons{display:flex;flex-wrap:wrap;border-bottom:2px solid #ddd}
.tab-button{
    border:none;background:none;padding:12px 20px;
    font-weight:bold;cursor:pointer;color:#666
}
.tab-button.active{color:#007bff;border-bottom:3px solid #007bff}
.tab-content{display:none}
.tab-content.active{display:block}
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px}
input,button{
    width:100%;padding:12px;margin-top:5px;
    border-radius:8px;border:2px solid #ddd;font-size:16px
}
button{
    background:#007bff;color:#fff;border:none;font-weight:bold;
    margin-top:15px;cursor:pointer
}
button:hover{background:#0056b3}
.result{
    background:#f8f9fa;margin-top:25px;padding:20px;
    border-left:5px solid #28a745;border-radius:10px
}
.result-display{text-align:center;font-size:22px;font-weight:bold}
.result-number{font-size:32px;color:#155724}
.error{
    background:#f8d7da;padding:15px;margin-top:20px;
    border-left:5px solid #dc3545
}
.details-grid{
    display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
    gap:15px;margin-top:20px
}
.detail-card{background:#fff;padding:15px;border-radius:8px;text-align:center}
.calculation-steps{
    background:#fff3cd;padding:15px;border-radius:8px;margin-top:15px;
    font-family:monospace
}
.examples{
    display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
    gap:10px;margin-top:10px
}
.example-card{
    background:#e9ecef;padding:10px;border-radius:6px;
    cursor:pointer;text-align:center;font-size:12px
}
.example-card:hover{background:#dee2e6}
</style>
</head>

<body>
<div class="container">

<h1>üìä Calculadora de Porcentagem</h1>
<div class="subtitle">C√°lculos r√°pidos e precisos</div>

<div class="tab-buttons">
    <button class="tab-button active" onclick="openTab('calcular',this)">üßÆ Calcular %</button>
    <button class="tab-button" onclick="openTab('aumento',this)">üìà Aumento</button>
    <button class="tab-button" onclick="openTab('desconto',this)">üìâ Desconto</button>
    <button class="tab-button" onclick="openTab('variacao',this)">üîÑ Varia√ß√£o</button>
    <button class="tab-button" onclick="openTab('regratres',this)">üî¢ Regra de 3</button>
</div>

<!-- ================== CALCULAR % ================== -->
<div id="calcular" class="tab-content active">
    <input id="valorBase" type="number" placeholder="Valor base">
    <input id="porcentagem" type="number" placeholder="Porcentagem (%)">
    <button onclick="calcularPorcentagem()">Calcular</button>
    <div id="resultadoCalculo"></div>
</div>

<!-- ================== AUMENTO ================== -->
<div id="aumento" class="tab-content">
    <input id="valorAumento" type="number" placeholder="Valor base">
    <input id="porcAumento" type="number" placeholder="Porcentagem (%)">
    <button onclick="calcularAumento()">Calcular aumento</button>
    <div id="resultadoAumento"></div>
</div>

<!-- ================== DESCONTO ================== -->
<div id="desconto" class="tab-content">
    <input id="valorDesconto" type="number" placeholder="Valor base">
    <input id="porcDesconto" type="number" placeholder="Porcentagem (%)">
    <button onclick="calcularDesconto()">Calcular desconto</button>
    <div id="resultadoDesconto"></div>
</div>

<!-- ================== VARIA√á√ÉO ================== -->
<div id="variacao" class="tab-content">
    <input id="valorAntigo" type="number" placeholder="Valor antigo">
    <input id="valorNovo" type="number" placeholder="Valor novo">
    <button onclick="calcularVariacao()">Calcular varia√ß√£o</button>
    <div id="resultadoVariacao"></div>
</div>

<!-- ================== REGRA DE 3 ================== -->
<div id="regratres" class="tab-content">
    <input id="valorA" type="number" placeholder="Valor A">
    <input id="valorB" type="number" placeholder="Valor B">
    <input id="valorC" type="number" placeholder="Valor C">
    <button onclick="calcularRegraTres()">Calcular</button>
    <div id="resultadoRegra"></div>
</div>

</div>

<script>
/* ===== UTIL ===== */
const moeda = v => v.toLocaleString('pt-BR',{style:'currency',currency:'BRL'});

function openTab(id,btn){
    document.querySelectorAll('.tab-content').forEach(t=>t.classList.remove('active'));
    document.querySelectorAll('.tab-button').forEach(b=>b.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    btn.classList.add('active');
}

/* ===== C√ÅLCULOS ===== */
function calcularPorcentagem(){
    const v = +valorBase.value, p = +porcentagem.value;
    if(!v || !p) return erro('resultadoCalculo');
    const r = v*(p/100);
    resultadoCalculo.innerHTML = render(v,p,r,r);
}

function calcularAumento(){
    const v=+valorAumento.value,p=+porcAumento.value;
    if(!v||!p)return erro('resultadoAumento');
    const r=v*(p/100),f=v+r;
    resultadoAumento.innerHTML=render(v,p,r,f);
}

function calcularDesconto(){
    const v=+valorDesconto.value,p=+porcDesconto.value;
    if(!v||!p)return erro('resultadoDesconto');
    const r=v*(p/100),f=v-r;
    resultadoDesconto.innerHTML=render(v,p,r,f);
}

function calcularVariacao(){
    const a=+valorAntigo.value,n=+valorNovo.value;
    if(!a||!n)return erro('resultadoVariacao');
    const v=((n-a)/a)*100;
    resultadoVariacao.innerHTML=`<div class="result">
        <div class="result-display">Varia√ß√£o: ${v.toFixed(2)}%</div>
    </div>`;
}

function calcularRegraTres(){
    const a=+valorA.value,b=+valorB.value,c=+valorC.value;
    if(!a||!b||!c)return erro('resultadoRegra');
    const x=(b*c)/a;
    resultadoRegra.innerHTML=`<div class="result">
        <div class="result-display">X = ${x.toFixed(2)}</div>
    </div>`;
}

function render(v,p,r,f){
return `<div class="result">
<div class="result-display">${moeda(f)}</div>
<div class="details-grid">
<div class="detail-card">Valor: ${moeda(v)}</div>
<div class="detail-card">Porcentagem: ${p}%</div>
<div class="detail-card">Resultado: ${moeda(r)}</div>
</div>
</div>`;
}

function erro(id){
document.getElementById(id).innerHTML=
`<div class="error">Preencha todos os campos corretamente</div>`;
}
</script>
</body>
</html>
